<header class="bg-gray-300">
  <nav aria-label="Global" class="mx-auto flex max-w-7xl items-center justify-between p-6 lg:px-8">
    <div class="flex lg:flex-1">
      <a href="#" class="-m-1.5 p-1.5">
        <span class="sr-only text-gray-900">ConceptualMap</span>
        <img src="assets/icons/logo.png" alt="" class="h-8 w-auto" />
      </a>
      <a href="#" class="text-sm/6 font-semibold text-gray-900 self-center">ConceptualMap</a>
    </div>
    
    <div *ngIf="!isLoggin()" class="hidden lg:flex lg:flex-1 lg:justify-end">
      <a (click)="goToLogin()" class="cursor-pointer text-sm/6 font-semibold text-gray-900">Iniciar Sesión <span aria-hidden="true">&rarr;</span></a>
    </div>

    <div *ngIf="isLoggin()" class="hidden lg:flex lg:flex-1 lg:justify-end">
      <a (click)="goToLogout()"  class="cursor-pointer text-sm/6 font-semibold text-gray-900">Cerrar sesión <span aria-hidden="true"></span></a>
    </div>
  </nav>
 
</header>

<div class="max-w-xl mx-auto mt-20 p-6 bg-white rounded-xl shadow border border-gray-300 space-y-4">
  <h1 class="text-2xl font-bold text-center">Subir archivo PDF</h1>

  <input
    type="file"
    accept=".pdf"
    (change)="onFileSelected($event)"
    class="w-full border border-gray-300 rounded p-2"
  />

  <div *ngIf="errorMsg()" class="text-red-600 text-sm">
    {{ errorMsg() }}
  </div>

  <div class="w-full flex justify-center ">

     <button
      (click)="handleUploadClick()"
      [disabled]="!canUpload()"
      class="btn-base bg-gray-300 w-25 rounded-xl disabled:opacity-25"
    >
      {{ isLoading() ? 'Subiendo...' : ' Subir PDF ' }}
    </button>

    <div *ngIf="isLoading()" class="flex items-center justify-center ml-4">
      <div class="animate-spin rounded-full h-6 w-6 border-t-2 border-b-2 border-gray-600"></div>
    </div>

  </div>
  
</div>

<div
  *ngIf="showModal()"
  class="fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50"
>
  <div class="bg-white p-6 rounded-lg shadow-lg w-full max-w-sm text-center">
    <h2 class="text-xl font-bold mb-4 text-gray-800">Acceso denegado</h2>
    <p class="text-gray-600 mb-6">Debes iniciar sesión para subir un archivo.</p>
    <button
      (click)="closeModal()"
      class="bg-gray-800 hover:bg-gray-600 text-white font-semibold py-2 px-4 rounded"
    >
      Cerrar
    </button>
  </div>
</div>

<div class="mt-20 overflow-hidden bg-gray-300 py-24 sm:py-32">
  <div class="mx-auto max-w-7xl px-6 lg:px-8">
    <div class="mx-auto grid max-w-2xl grid-cols-1 gap-x-8 gap-y-16 sm:gap-y-20 lg:mx-0 lg:max-w-none lg:grid-cols-2">
      <div class="lg:pt-4 lg:pr-8">
        <div class="lg:max-w-lg">
          <h2 class="text-base/7 font-semibold text-gray-900">Guía rápida de</h2>
          <p class="mt-2 text-4xl font-semibold tracking-tight text-pretty text-gray-900 sm:text-5xl">ConceptualMap</p>
          <p class="mt-6 text-lg/8 text-gray-400">Usamos inteligencia artificial para generar un mapa conceptual resumido a partir del contenido de un PDF, con fines universitarios y de investigación.</p>
          <dl class="mt-10 max-w-xl space-y-8 text-base/7 text-gray-400 lg:max-w-none">
            <div class="relative pl-9">
              <dt class="inline font-semibold text-gray-900">
                <svg viewBox="0 0 20 20" fill="currentColor" data-slot="icon" aria-hidden="true" class="absolute top-1 left-1 size-5 text-indigo-400">
                  <path d="M2 12C2 7.28595 2 4.92893 3.46447 3.46447C4.92893 2 7.28595 2 12 2C16.714 2 19.0711 2 20.5355 3.46447C22 4.92893 22 7.28595 22 12C22 16.714 22 19.0711 20.5355 20.5355C19.0711 22 16.714 22 12 22C7.28595 22 4.92893 22 3.46447 20.5355C2 19.0711 2 16.714 2 12ZM12 17.75C12.4142 17.75 12.75 17.4142 12.75 17V11.8107L14.4697 13.5303C14.7626 13.8232 15.2374 13.8232 15.5303 13.5303C15.8232 13.2374 15.8232 12.7626 15.5303 12.4697L12.5303 9.46967C12.3897 9.32902 12.1989 9.25 12 9.25C11.8011 9.25 11.6103 9.32902 11.4697 9.46967L8.46967 12.4697C8.17678 12.7626 8.17678 13.2374 8.46967 13.5303C8.76256 13.8232 9.23744 13.8232 9.53033 13.5303L11.25 11.8107V17C11.25 17.4142 11.5858 17.75 12 17.75ZM8 7.75C7.58579 7.75 7.25 7.41421 7.25 7C7.25 6.58579 7.58579 6.25 8 6.25H16C16.4142 6.25 16.75 6.58579 16.75 7C16.75 7.41421 16.4142 7.75 16 7.75H8Z" clip-rule="evenodd" fill-rule="evenodd" />
                </svg>
                Sube un PDF.
              </dt>
              <dd class="inline">Si contiene imágenes explicativas, aún no es posible extraer esa información, pero seguimos trabajando en ello.</dd>
            </div>
            <div class="relative pl-9">
              <dt class="inline font-semibold text-gray-900">
                <svg viewBox="0 0 20 20" fill="currentColor" data-slot="icon" aria-hidden="true" class="absolute top-1 left-1 size-5 text-indigo-400">
                  <path fill-rule="evenodd" clip-rule="evenodd" d="M7 2a2 2 0 0 0-2 2v1H4a2 2 0 0 0-2 2v2a1 1 0 0 0 1 1h1v2H3a1 1 0 1 0 0 2h1v2a2 2 0 0 0 2 2h2v-1a1 1 0 1 1 2 0v1h2a2 2 0 0 0 2-2v-1h1a1 1 0 1 0 0-2h-1v-2h1a1 1 0 1 0 0-2h-1V7h1a1 1 0 1 0 0-2h-1V4a2 2 0 0 0-2-2H7Zm1 5a1 1 0 1 1 2 0v2a1 1 0 1 1-2 0V7Zm0 6a1 1 0 1 1 2 0v2a1 1 0 1 1-2 0v-2Z" />
                </svg>
                IA trabajando.
              </dt>
              <dd class="inline">Espera mientras la inteligencia articial hace su magia.</dd>
            </div>
            <div class="relative pl-9">
              <dt class="inline font-semibold text-gray-900">
                <svg viewBox="0 0 20 20" fill="currentColor" data-slot="icon" aria-hidden="true" class="absolute top-1 left-1 size-5 text-indigo-400">
                  <path fill-rule="evenodd" clip-rule="evenodd" d="M6 3a2 2 0 1 1-1.732 1H3a1 1 0 1 0 0 2h1.268a2 2 0 1 1 0 2H3a1 1 0 1 0 0 2h1.268a2 2 0 1 1 1.732 3h6a2 2 0 1 1 0-2H11a1 1 0 1 0 0-2h1a2 2 0 1 1 0-2h-1a1 1 0 1 0 0-2h1a2 2 0 1 1 0-2h-6A2 2 0 0 1 6 3Z" />
                </svg>
                Obten tu mapa conceptual.
              </dt>
              <dd class="inline">De momento solo puedes revisarlo en el navegador.</dd>
            </div>
          </dl>
        </div>
      </div>
      <img width="2432" height="1442" src="assets/icons/conceptualMap.png" alt="Product screenshot" class="w-3xl max-w-none rounded-xl shadow-xl ring-1 ring-white/10 sm:w-228 md:-ml-4 lg:-ml-0" />
    </div>
  </div>
</div>

<footer class="w-full bg-gray-100 text-gray-600 text-sm py-4">
  <div class="container mx-auto px-4 text-center">
    <p class="font-medium">Nelson Rodríguez • Proyecto de Generación de Mapas Conceptuales con IA</p>
    <p class="text-xs">Materia: Lenguajes de programación • Año 2025</p>
  </div>
</footer>